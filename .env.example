# ====== App ======
APP_NAME="Vanna2 Analytics Tool"
APP_ENV="dev"
JWT_SECRET=""              # placeholder
JWT_ALGORITHM="HS256"
JWT_EXPIRE_MINUTES=10080# 7 days

# ====== Target MySQL (analytics database) ======
MYSQL_HOST=""
MYSQL_PORT=""
MYSQL_DATABASE=""
MYSQL_USER=""
MYSQL_PASSWORD=""
MYSQL_POOL_SIZE="5"
MYSQL_MAX_OVERFLOW="10"
MYSQL_POOL_RECYCLE_SECONDS="3600"

# ====== LLM (DeepSeek-chat, OpenAI-compatible) ======
DEEPSEEK_BASE_URL=""       # e.g. https://api.deepseek.com/v1 (or your gateway)
DEEPSEEK_API_KEY=""
DEEPSEEK_MODEL="deepseek-chat"
LLM_TEMPERATURE="0.2"
LLM_TIMEOUT_SECONDS="90"
LLM_MAX_RETRIES="2"
LLM_RETRY_BASE_SECONDS="0.5"
LLM_CB_FAILURES="3"
LLM_CB_RECOVERY_SECONDS="30"

# ====== Embeddings (Qwen3-Embedding-8B, OpenAI-compatible) ======
EMBED_BASE_URL=""          # e.g. https://<provider>/v1
EMBED_API_KEY=""
EMBED_MODEL="Qwen3-Embedding-8B"
EMBED_TIMEOUT_SECONDS="60"
EMBED_MAX_RETRIES="2"
EMBED_RETRY_BASE_SECONDS="0.5"
EMBED_CB_FAILURES="3"
EMBED_CB_RECOVERY_SECONDS="30"

# ====== Vector store ======
CHROMA_PERSIST_DIR="./data/chroma"
CHROMA_COLLECTION="mysql_schema"

# ====== Limits ======
MAX_ROWS="500"
MAX_SQL_RETRY="2"
SLOW_QUERY_THRESHOLD_MS="2000"
SENSITIVE_FIELD_KEYWORDS="password,passwd,pwd,secret,token,phone,mobile,email,mail,idcard,id_card,ssn,credit,card,bank,account"
SENSITIVE_MASK_KEEP_START="2"
SENSITIVE_MASK_KEEP_END="2"
SCHEMA_CHECK_INTERVAL_HOURS="72"

# ====== MySQL resilience ======
MYSQL_CONNECT_TIMEOUT_SECONDS="5"
MYSQL_QUERY_TIMEOUT_SECONDS="30"
MYSQL_MAX_RETRIES="1"
MYSQL_RETRY_BASE_SECONDS="0.3"
MYSQL_CB_FAILURES="3"
MYSQL_CB_RECOVERY_SECONDS="30"

# ====== File upload limits ======
FILE_UPLOAD_MAX_BYTES="20971520"
FILE_UPLOAD_MAX_ROWS="200000"
FILE_UPLOAD_MAX_COLS="200"
FILE_UPLOAD_TTL_HOURS="72"
